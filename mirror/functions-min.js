var weatherApiKey="307fbfa5c26f248d4bf737722b750fad",city="Zuerich",country="ch",forecastWeatherURL="http://api.openweathermap.org/data/2.5/forecast?q="+city+","+country+"&units=metric&id=524901&APPID="+weatherApiKey,currentWeatherURL="http://api.openweathermap.org/data/2.5/weather?q="+city+","+country+"&units=metric&id=524901&APPID="+weatherApiKey,clockStyle,quoteCategories,quoteInterval,language="de",quote="",author="",timer=0,selectedId,errorForecast=!1,weatherInterval=9e5,weatherConditionText;$(document).ready(function(){annyang&&(annyang.setLanguage(language),annyang.removeCommands(),annyang.addCommands(commands),annyang.start()),setupData(DATA_TYPE.HOME)}),initWeather=function(){console.log("start init weather..."),$.getJSON(currentWeatherURL,function(e){document.getElementById("weather").style.display="block",$("#icon")[0].src="images/"+e.weather[0].icon+".png",$("#location")[0].innerHTML=e.name,$("#temp")[0].innerHTML=e.main.temp,$("#description")[0].innerHTML=weatherConditionText["w"+e.weather[0].id],console.log("finish init weather successfully")}).fail(function(){displayError("HOME_ERROR_WEATHER"),speak("HOME_ERROR_WEATHER",language),document.getElementById("weather").style.display="none",console.log("finish init weather with error")}),setTimeout(function(){initWeather()},weatherInterval)},initForecast=function(){console.log("start init forecast..."),$.getJSON(forecastWeatherURL,function(e){for(var t=new Date,n=t.getDate(),i=0,o=0,a=1,r=200,s=-200,c=[],l=[],m=["200","200","200","200","200","200"],u=["-200","-200","-200","-200","-200","-200"],f=[],g=[];e.list[a];)0===e.list[o].dt_txt.substring(9,10).localeCompare(e.list[a].dt_txt.substring(9,10))?(e.list[o].weather[0].icon.endsWith("d")&&(g[g.length]="images/"+e.list[o].weather[0].icon+".png",f[f.length]=e.list[o].weather[0].id),m[i]>e.list[o].main.temp_min&&(m[i]=e.list[o].main.temp_min),u[i]<e.list[o].main.temp_max&&(u[i]=e.list[o].main.temp_max)):(0===g.length&&(g[g.length]="images/"+e.list[o].weather[0].icon+".png",f[f.length]=e.list[o].weather[0].id),c[i]=mode(g),l[i]="w"+mode(f),g=[],f=[],i+=1),a++,o++;$("#forecast_time1")[0].innerHTML=getText("HOME_INFO_FORECAST_DAY1"),$("#forecast_minTemp1")[0].innerHTML=m[0],$("#forecast_maxTemp1")[0].innerHTML=u[0],$("#forecast_icon1")[0].src=c[0],$("#forecast_description1")[0].innerHTML=weatherConditionText[l[0]],$("#forecast_time2")[0].innerHTML=getText("HOME_INFO_FORECAST_DAY2"),$("#forecast_minTemp2")[0].innerHTML=m[1],$("#forecast_maxTemp2")[0].innerHTML=u[1],$("#forecast_icon2")[0].src=c[1],$("#forecast_description2")[0].innerHTML=weatherConditionText[l[1]],$("#forecast_time3")[0].innerHTML=getText("HOME_INFO_FORECAST_DAY3"),$("#forecast_minTemp3")[0].innerHTML=m[2],$("#forecast_maxTemp3")[0].innerHTML=u[2],$("#forecast_icon3")[0].src=c[2],$("#forecast_description3")[0].innerHTML=weatherConditionText[l[2]],console.log("finish init forecast successfully")}).fail(function(){displayError("HOME_ERROR_FORECAST"),speak("HOME_ERROR_FORECAST",language),document.getElementById("forecast1").style.display="none",document.getElementById("forecast2").style.display="none",document.getElementById("forecast3").style.display="none",errorForecast=!0,console.log("finish init forecast with error")}),setTimeout(function(){initForecast()},weatherInterval)},initQuote=function(){console.log("start init quote...");var e=$("#quote")[0],t=quoteCategories[getRandomInt(0,quoteCategories.length-1)],n="http://quotes.rest/qod.json?category="+t;$.getJSON(n,function(t){quote=t.contents.quotes[0].quote,author=t.contents.quotes[0].author,e.innerHTML=quote+"  -  "+author,console.log("finish init forecast successfully")}).fail(function(){console.log("finish init forecast with error")}),setTimeout(function(){initQuote()},quoteInterval)};