var map,socket,lastDirectionsDetails;$(document).ready(function(){annyang&&(annyang.setLanguage("de"),annyang.removeCommands(),annyang.addCommands(commands),annyang.start()),setupData(DATA_TYPE.MAPS)}),initMap=function(){$("#location")[0].innerHTML=getText("MAPS_INFO_LOCATION"),$("#go")[0].innerHTML=getText("MAPS_INFO_GO"),map=new google.maps.Map($("#map")[0],{center:{lat:-34.397,lng:150.644},scrollwheel:!1,zoom:8}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(n){var o={lat:n.coords.latitude,lng:n.coords.longitude};map.setCenter(o)},function(){})},findDirections=function(){var n=new google.maps.DirectionsService,o=new google.maps.DirectionsRenderer;o.setMap(map),calculateAndDisplayRoute(n,o)},calculateAndDisplayRoute=function(n,o){n.route({origin:$("#startInput")[0].value,destination:$("#endInput")[0].value,travelMode:"DRIVING"},function(n,e){"OK"===e?(o.setDirections(n),showDetails(n)):console.log("Directions request failed due to "+e)})},showDetails=function(n){var o="";$.each(n.routes[0].legs,function(n,e){e.departure_time&&(o+="departure: "+e.departure_time.text+"\n"),e.arrival_time&&(o+="arrival: "+e.arrival_time.text+"\n"),o+="distance: "+e.distance.text+"\n",o+="durcation: "+e.duration.text+"\n",$.each(e.steps,function(n,e){o+=n+1+". "+e.instructions+"\n"})})},toggleSearchMode=function(n){"single"===n?($("#singleLocation").show(),$("#directions").hide()):"directions"===n&&($("#singleLocation").hide(),$("#directions").show())},zoomIn=function(){map.zoom<=21?map.setZoom(map.zoom+1):console.log("max zoomin")},zoomOut=function(){map.zoom>=3?map.setZoom(map.zoom-1):console.log("max zoomout")};