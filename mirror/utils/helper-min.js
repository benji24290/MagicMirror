mode=function(e){if(0===e.length)return null;for(var t={},n=e[0],i=1,o=0;o<e.length;o++){var r=e[o];null===t[r]?t[r]=1:t[r]++,t[r]>i&&(n=r,i=t[r])}return n},getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},setLocation=function(){var e=new google.maps.Geocoder,t=$("#location")[0].value;e.geocode({address:t},function(e,t){if(t==google.maps.GeocoderStatus.OK){var n=e[0].geometry.location.lat(),i=e[0].geometry.location.lng(),o={lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng()};map.setCenter(o),map.setZoom(15),getZoomLevel(o)}})},getZoomLevel=function(e){var t={host:"maps.googleapis.com",path:"/maps/api/geocode/json?latlng="+e.lat+","+e.lng+"&sensor=true",method:"https"};$.ajax({type:"POST",data:JSON.stringify(t),contentType:"application/json",url:serverURL+"/address",success:function(e){var t=JSON.parse(e).results}})},compare=function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0},getAvailableThemes=function(e,t){var n=[];return e===NEWS_SOURCE.BLICK?$.each(t,function(e,t){var i=getBlickData(t);$xml=$(i);var o=$xml.find("item");parseBlickData($xml,o,0)&&(n[n.length]=t)}):e===NEWS_SOURCE.TAGI?$.each(t,function(e,t){var i=getTagiData(t);$xml=$(i);var o=$xml.find("item");parseTagiData($xml,o,0)&&(n[n.length]=t)}):e===NEWS_SOURCE.NZZ&&$.each(t,function(e,t){var i=getNZZData(t);$xml=$(i);var o=$xml.find("item");parseNZZData($xml,o,0)&&(n[n.length]=t)}),n},checkNextTheme=function(e){var t,n,i;if(currentSource){"20min"==currentSource?i=twentyMinThemes:"NZZ"==currentSource?(i=getAvailableThemes(NEWS_SOURCE.NZZ,nzzThemes),console.log(i)):"Tagesanzeiger"==currentSource?(i=getAvailableThemes(NEWS_SOURCE.TAGI,tagiThemes),console.log(i)):"Blick"==currentSource&&(i=getAvailableThemes(NEWS_SOURCE.BLICK,blickThemes),console.log(i));for(var o=0;o<i.length;o++)i[o]===currentTheme&&(t=o+1<i.length?i[o+1]:i[0],0===o?(n=i[i.length-1],console.log(i.length)):n=i[o-1])}return"before"==e?(console.log(n+t),n):"next"==e?(console.log(n+t),t):void 0},parseTagiData=function(e,t,n){var i="";return i+='<img src="'+e.find("image")[0].children[2].textContent+'" alt="Tagi title img">',i+="<br><br>",i+=e.find("title")[0].textContent,i+="<br><br>",i+=t[n].children[0].textContent,i+="<br><br>",i+=t[n].children[1].textContent},parseBlickData=function(e,t,n){var i="";if($item=$(t[n]),$item.find("title")[0]&&$item.find("description")[0]){var o=e.find("url")[0].textContent;i+='<img src="'+o+'" alt="Blick title img">',i+="<br><br>",i+=e.find("title")[0].textContent,i+="<br><br>",i+=$item.find("title")[0].textContent,i+="<br>",i+=$item.find("description")[0].textContent}return $item.find("content\\:encoded")&&$item.find("content\\:encoded")[0]&&$item.find("content\\:encoded")[0].children.length>0&&$.each($item.find("content\\:encoded")[0].children,function(e,t){i+=t.outerHTML}),i},parseNZZData=function(e,t,n){$item=$(t[n]);var i="";return i+=e.find("title")[0].textContent,i+="<br><br>",i+=$item.find("title")[0].textContent,i+="<br>",$item.find("media\\:thumbnail")&&$item.find("media\\:thumbnail")[0]&&(i+='<img src="'+$item.find("media\\:thumbnail")[0].attributes[2].textContent+'" alt="Tagi title img">',i+="<br>"),$item.find("description")&&$item.find("description")[0]&&(i+=$item.find("description")[0].textContent),i};